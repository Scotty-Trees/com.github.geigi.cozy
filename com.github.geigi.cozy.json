{
    "app-id": "com.github.geigi.cozy",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.32",
    "sdk": "org.gnome.Sdk",
    "command": "com.github.geigi.cozy",
    "finish-args": [
        "--share=ipc",
        "--socket=x11",
        "--socket=wayland",
        "--device=dri",
        "--share=network",
        "--socket=pulseaudio",
        "--filesystem=host",
        "--filesystem=xdg-run/dconf",
        "--filesystem=~/.config/dconf:ro",
        "--talk-name=ca.desrt.dconf",
        "--talk-name=org.freedesktop.Notifications",
        "--own-name=org.mpris.MediaPlayer2.Cozy",
        "--env=DCONF_USER_CONFIG_DIR=.config/dconf"
     ],
    "modules": [
        {
          "name": "gst-plugins-good",
          "config-opts": [ "--disable-gtk-doc"],
          "cleanup": [ "*.la", "/share/gtk-doc" ],
          "sources": [{
            "type": "archive",
            "url": "https://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.14.4.tar.xz",
            "sha256": "5f8b553260cb0aac56890053d8511db1528d53cae10f0287cfce2cb2acc70979"
            }]
        },
        {
          "name": "gst-libav",
          "config-opts": [
            "--disable-gtk-doc"
          ],
          "cleanup": [ "*.la", "/share/gtk-doc" ],
          "sources": [{
            "type": "archive",
            "url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.14.4.tar.xz",
            "sha256": "dfd78591901df7853eab7e56a86c34a1b03635da0d3d56b89aa577f1897865da"
          }]
        },
        {
            "name": "python-peewee",
            "ensure-writable": ["/lib/python*/site-packages/easy-install.pth"],            
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py build",                
                "python3 setup.py install --prefix=/app"
            ],
            "sources": [
              {
                "type": "archive",
                "url": "https://files.pythonhosted.org/packages/a5/80/c84b0fa212a003db91c87822fd8559fed78e214c3c8f1a97a095ee711a95/peewee-3.10.0.tar.gz",
                "sha256": "35bc7a1373b7e5c55fa984e852cddaff9e353a42cbb0b5e0c41a5060928fd192"
              }
            ]
        },
        {
            "name": "python-mutagen",
            "ensure-writable": ["/lib/python*/site-packages/easy-install.pth"],            
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py build",                
                "python3 setup.py install --prefix=/app"
            ],
            "sources": [
              {
                "type": "archive",
                "url": "https://files.pythonhosted.org/packages/30/4c/5ad1a6e1ccbcfaf6462db727989c302d9d721beedd9b09c11e6f0c7065b0/mutagen-1.42.0.tar.gz",
                "sha256": "bb61e2456f59a9a4a259fbc08def6d01ba45a42da8eeaa97d00633b0ec5de71c"
              }
            ]
        },
        {
            "name": "cozy",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/geigi/cozy/archive/0.6.9.tar.gz",
                    "sha256": "1e0f9cfe07f8ff41df4bda6e6bc447e2eca87b657ae0197afe0d67bb6a498a68"
                }
            ]
        }
    ]
}
