{
    "app-id": "com.github.geigi.cozy",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.28",
    "sdk": "org.gnome.Sdk",
    "command": "com.github.geigi.cozy",
    "finish-args": [
        "--share=ipc",
        "--socket=x11",
        "--socket=wayland",
        "--device=dri",
        "--share=network",
        "--socket=pulseaudio",
        "--filesystem=home",
        "--filesystem=xdg-run/dconf",
        "--filesystem=~/.config/dconf:ro",
        "--talk-name=ca.desrt.dconf",
        "--talk-name=org.freedesktop.Notifications",
        "--own-name=org.mpris.MediaPlayer2.Cozy",
        "--env=DCONF_USER_CONFIG_DIR=.config/dconf"
     ],
    "modules": [
        {
          "name": "gst-plugins-good",
          "config-opts": [ "--disable-gtk-doc"],
          "cleanup": [ "*.la", "/share/gtk-doc" ],
          "sources": [{
            "type": "archive",
            "url": "https://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.12.3.tar.xz",
            "sha256": "13e7f479296891fef5a686438f20ba7d534680becf2269ecc5ee24aa83b45f03"
            }]
        },
        {
          "name": "gst-libav",
          "config-opts": [
            "--disable-gtk-doc"
          ],
          "cleanup": [ "*.la", "/share/gtk-doc" ],
          "sources": [{
            "type": "archive",
            "url": "https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-1.12.3.tar.xz",
            "sha256": "015ef8cab6f7fb87c8fb42642486423eff3b6e6a6bccdcd6a189f436a3619650"
          }]
        },
        {
            "name": "python-peewee",
            "ensure-writable": ["/lib/python*/site-packages/easy-install.pth"],            
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py build",                
                "python3 setup.py install --prefix=/app"
            ],
            "sources": [
              {
                "type": "archive",
                "url": "https://pypi.python.org/packages/d8/e3/3bcefcf0d0506f5df73e5653e0fb1732b37315177e689feb502ff2304b8f/peewee-3.1.1.tar.gz",
                "sha256": "721d4d221bebdc0ed82484c36185dd83d048cc2553df7f91047bf5a53f6c3066"
              }
            ]
        },
        {
            "name": "python-mutagen",
            "ensure-writable": ["/lib/python*/site-packages/easy-install.pth"],            
            "buildsystem": "simple",
            "build-commands": [
                "python3 setup.py build",                
                "python3 setup.py install --prefix=/app"
            ],
            "sources": [
              {
                "type": "archive",
                "url": "https://pypi.python.org/packages/2c/6a/0b2caf9364db074b616b1b8c26ce7166a883c21b0e40bd50f6db02307afe/mutagen-1.40.0.tar.gz",
                "sha256": "b2a2c2ce87863af12ed7896f341419cd051a3c72c3c6733db9e83060dcadee5e"
              }
            ]
        },
        {
            "name": "cozy",
            "buildsystem": "meson",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/geigi/cozy/archive/0.5.5.tar.gz",
                    "sha256": "9156592386aaa8ab6acddfad186b6427edad0d17808f5adb169dd1dc19727701"
                }
            ]
        }
    ]
}
